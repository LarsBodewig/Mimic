buildscript {
	group = "$groupId" // maven-publish uses "project.group" as groupId
}

plugins {
	id 'eclipse'
    id 'java-gradle-plugin'
    id 'com.gradle.plugin-publish' version '1.2.1'
}

repositories {
	mavenLocal()
	mavenCentral()
	gradlePluginPortal()
}

java {
    sourceCompatibility = JavaVersion.VERSION_19
}

gradlePlugin {
    plugins {
        mimic {
            id = 'dev.bodewig.mimic.gradle.plugin'
            displayName = 'mimic-gradle-plugin'
            description = 'Create reflective accessors for third party classes'
            implementationClass = 'dev.bodewig.mimic.gradle.plugin.MimicPlugin'
            website = 'https://github.com/LarsBodewig/Mimic'
            vcsUrl = 'https://github.com/LarsBodewig/Mimic.git'
        }
    }
}

dependencies {
	implementation "dev.bodewig.mimic:mimic-core:$version"
}

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

sourceSets.main.java.srcDirs = [ "src/" ]

eclipse.project.name = "$name"
